<!-- acoes.html -->
<div class="acoes-container">
  <div class="acoes-header">
    <h1>Ações</h1>
    <div class="acoes-filters">
      <select class="categoria-select" aria-label="Escolher categoria de ONG">
        <option value="" disabled selected>Escolher por Categoria</option>
        <option value="alimentos">Alimentos</option>
        <option value="saude">Saúde</option>
        <option value="animais">Animais</option>
        <option value="social">Social</option>
        <option value="voluntariado">Voluntariado</option>
      </select>
    </div>
  </div>

  <div class="acoes-grid">
    <div class="acao-card" *ngFor="let acao of acoes">
      <div class="card-image">
        <img [src]="acao.imagem" [alt]="acao.titulo">
      </div>
      <div class="card-content">
        <h3>{{ acao.titulo }}</h3>
        <button class="ver-mais-btn" (click)="abrirModal(acao)">Ver mais</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Detalhes da Ação -->
<div class="modal-overlay" *ngIf="modalAberto" (click)="fecharModal()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-fechar" (click)="fecharModal()">X</button>
    <div class="modal-img">
      <img [src]="modalImagem" [alt]="modalTitulo">
    </div>
    <div class="modal-texto">
      <h2>{{ modalTitulo }}</h2>
      <p>{{ modalDescricao }}</p>
      <div class="modal-botoes">
        <button class="ver-mais-btn" (click)="abrirFormulario()">Doar</button>
        <button class="ver-mais-btn">Participar</button>
      </div>
    </div>
  </div>
</div>

<!-- Formulário de Doação -->
<div class="modal-overlay" *ngIf="formularioAberto" (click)="fecharFormulario()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-fechar" (click)="fecharFormulario()">X</button>
    <div class="modal-texto">
      <h2>Preencha o Formulário para Fazer a Doação</h2>
      <form (ngSubmit)="validarFormulario()" #formulario="ngForm">
        <input type="text" name="nome" [(ngModel)]="dados.nome" placeholder="Nome" required><br>
        <input type="email" name="email" [(ngModel)]="dados.email" placeholder="E-mail" required><br>
        <input type="tel" name="telefone" [(ngModel)]="dados.telefone" placeholder="Telefone" required><br>
        <button class="ver-mais-btn" type="submit">Doar</button>
      </form>

       <div *ngIf="validacaoFormulario" style="margin-top: 20px;">
        <p>Redireciando para a página de Doação</p>
      </div>
    </div>
  </div>
</div>

<div class="modal-overlay" *ngIf="inscricaoAberta" (click)="fecharInscricao()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="modal-fechar" (click)="fecharInscricao()">X</button>
    <div class="modal-texto">
      <h2>Preencha o Formulário para Fazer a Inscrição</h2>
      <form (ngSubmit)="validarInscricao()" #formulario="ngForm">
        <input type="text" name="nome" [(ngModel)]="dados.nome" placeholder="Nome" required><br>
        <input type="email" name="email" [(ngModel)]="dados.email" placeholder="E-mail" required><br>
        <input type="tel" name="telefone" [(ngModel)]="dados.telefone" placeholder="Telefone" required><br>
        <button class="ver-mais-btn" type="submit">Doar</button>
      </form>

      <div *ngIf="validacaoInscricao" style="margin-top: 20px;">
        <p>Inscrição conclúida, você receberá um e-mail contendo mais informações</p>
      </div>
    </div>
  </div>
</div>
